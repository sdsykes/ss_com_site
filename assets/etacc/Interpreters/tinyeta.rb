#!/usr/local/bin/ruby -W0
_,i=a=$==-1,$<.to_a;i[_].scan(/\w/){!p='htaoinse'=~$&or
a<0?i<<eval(%w^,>0?i.slice!(a-p):i[p+a] ,,==0||(_=c-2;break), _+2
,utc(p), getc||a a=0, ,,-c ,,;i<<p/c;p.remainder(c)^[p].gsub',',';c,p=p,i.pop
p'):a=p>6?i<<a&&~0:a*7+p}until(_+=1)/$.!=0
